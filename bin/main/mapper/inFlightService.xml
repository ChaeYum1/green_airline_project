<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.green.airline.repository.interfaces.InFlightServiceRepository">
	<select id="selectInFlightService"
		resultType="com.green.airline.repository.model.InFlightService">
		select * from in_flight_service_tb
	</select>

	<select id="selectInFlightServiceByName"
		resultType="com.green.airline.dto.response.InFlightServiceResponseDto">
		select * from in_flight_service_tb
		where name like
		#{keyword}
	</select>

	<select id="selectInFlightMeal"
		resultType="com.green.airline.repository.model.InFlightMeal">
		<if test="type=='유아식'">
			select *
			from in_flight_meal_tb
		</if>
		<if test="type=='야채식'">
			select *
			from in_flight_meal_tb
		</if>
		<if test="type=='식사조절식'">
			select *
			from in_flight_meal_tb
		</if>
		<if test="type=='종교식'">
			select *
			from in_flight_meal_tb
		</if>
		<if test="type=='기타특별식'">
			select *
			from in_flight_meal_tb
		</if>
	</select>

	<select id="selectInFlightAllMeal" resultType="com.green.airline.dto.response.InFlightMealResponseDto">
		select ifm.id as id, ifmd.meal_id, ifm.name as ifm_name, ifmd.name as ifmd_name, ifm.description as ifm_description, ifmd.description as ifmd_description
		from in_flight_meal_tb as ifm
		inner join in_flight_meal_detail_tb as ifmd
		on ifm.id = ifmd.meal_id
		group by ifmd.name
	</select>

</mapper>